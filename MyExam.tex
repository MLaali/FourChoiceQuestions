%Created by Mohammad Laali in Kharazmi University
\documentclass[a4paper,12pt,openany,oneside]{article}
\usepackage{multicol}
\usepackage{tikz}
\usepackage{amsmath,amssymb,amsthm,tabularx}
\usepackage[left=1cm,right=1cm,top=2cm,bottom=2.5cm,nohead]{geometry}
\usepackage{roundbox,graphicx,framed}
\usepackage{makebox}
\usepackage{enumerate}
\usepackage{xepersian}
% توجه: برای اینکه این کد کمپایل شود باید از XeLaTex استفاده شود


% این کد  یک فایل pdf  تولید می کند که تعداد چهار دسته سوال تستی پشت سر در آن قرار دارد. در هر دسته از سوال ها گزینه هاو ترتیب سوال ها تصادفی است.
% برای هر دسته سوال یک پاسخ نامه هم طراحی شود و همچنین هر دسته از سوال ها شامل یک بخش مشترک (برای همه دسته ها) تشرحی هم می باشد.

% برای اینکه این کد کار کند ابتدا باید برنامه generate.py اجرا شود تا کلیه سوال ها با گزینه هایش به شکل خام ایجاد شود.
%این برنامه با توجه به تعداد سوال هایی که در این فایل مشخص شده  ( عدد ۳۰ که در پایین قرار گرفته) تعدادی سوال خام تولید می کند که باید توسط طراح سوال با کد های لاتک پر شود. 
% فایل های تولید این ساختار نام گذاری را دارد:
%        انتهای نام فایل هر سوال عدد صفر است و انتهای نام فایل گزینه ها به ترتیب شماره های ۱ تا ۴. 
%         بنابرین مثلا ques010.tex مربوط به سوال اول و ques013.tex  گزینه سوم سوال اول است.


%  در زمان طراحی گزینه های سوال ها، ابتدای هر گزینه که صحیح باشد با قرار دادن دستور correct\ یک علامت تیک در کنار آن گزینه چاپ می شود. از این تیک برای پیدا کردن گزینه صحیح استفاده خواهد می شود
% بعد از طراحی کامل سوال ها چاپ این تیک را می توان با غیر فعال کردن تمام تیک ها (در پایین توضیح داده شده) لغو کرد.

% در صورتی که لازم باشد شکل گزینه ها عوض شود کافی است که در انتهای صورت سوال عبارت \renewcommand{\qestionType}{op2} چاپ شود
% به عنوان نمونه برنامه  generate.py  در انتهای اولین سوال خام از  دسته اول (در دسته های دیگر در محل تصادفی قرار خواهد گرفت)  این  عبارت را قرار داده است.



%تعریف فونت های لازم


\settextfont[Scale=1.1]{XB Niloofar}
%\setdigitfont[Scale=1.1]{PGaramond}
\setlatintextfont[Scale=1.1]{Helvetica}
\PersianMathsDigits

\begin{document}

%اگر لازم باشد که گزینه های صحیح نمایش داده نشود باید عبارت checkmark\ حذف شود
\newcommand{\correct}{\checkmark}
%تعداد سوالات برای ایجاد پاسخ نامه در اینجا ذکر می شود. با توجه برنامه generate.py از این بخش استفاده می کند باید فقط عدد تغییر کند و هیج تغییر اضافه دیگری انجام نشود.
\newcommand{\questionCount}{30}
%ترتیب گزینه ها با اعداد ۱ و ۲و ۳و ۴ در انتهای چهار خط بعدی مشخص شده است. در زمان چاپ سوال ها این ترتیب ها عوض می شوند.
\newcommand{\qNumA}{1}
\newcommand{\qNumB}{2}
\newcommand{\qNumC}{3}
\newcommand{\qNumD}{4}
%شمارنده سوال ها که باید جلوی هر سوال چاپ شود
\newcounter{quesCounter}
% تکه کدی که ابتدای هر سوال اجرا می شود و باعث می شود که شماره سوال چاپ شود
\newcommand{\quest}{\renewcommand{\qestionType}{op1}\noindent\stepcounter{quesCounter}\thequesCounter)\ }
%تکه کدی که در انتهای صورت سوال بعد از گزینه ها اجرا می شود و باعث می گردد که یک فاصله بین سوال ها ایجاد شود
\newcommand{\questEnd}{\ \\[4ex]}

\newcommand{\questName}{ques1}
\newcommand{\qestionType}{op1}
\include{MyAnswerSheetHeader}

%******************************************************************************
%قسمت اصلی برای چاپ سوال ها

%سوال های سری اول
\input{Myquestionlist1}
\newpage
توجه: هر سوال تستی ۳ نمره دارد. سوال ها نمره منفی نیز ندارند.\\
\input{MyAnswerSheet}
\input{MyCommonQues}
\ \newpage\ \newpage 

\renewcommand{\qNumA}{3}
\renewcommand{\qNumB}{1}
\renewcommand{\qNumC}{2}
\renewcommand{\qNumD}{4}
%سوال های سری دوم
\setcounter{quesCounter}{0}
\setcounter{page}{1}
\input{Myquestionlist2}
\newpage
توجه: هر سوال تستی ۳ نمره دارد  سوال ها نمره منفی نیز ندارند.\\
\input{MyAnswerSheet}
\input{MyCommonQues}
\ \newpage\ \newpage 

\renewcommand{\qNumA}{2}
\renewcommand{\qNumB}{3}
\renewcommand{\qNumC}{1}
\renewcommand{\qNumD}{4}
%سوال های سری سوم
\setcounter{quesCounter}{0}
\setcounter{page}{1}
\input{Myquestionlist3}
\newpage
توجه: هر سوال تستی ۳ نمره دارد. سوال ها نمره منفی نیز ندارند\\
\input{MyAnswerSheet}
\input{MyCommonQues}
\ \newpage\ \newpage 

\renewcommand{\qNumA}{3}
\renewcommand{\qNumB}{2}
\renewcommand{\qNumC}{1}
\renewcommand{\qNumD}{4}
%سوال های سری چهارم
\setcounter{quesCounter}{0}
\setcounter{page}{1}
\input{Myquestionlist4}
\newpage
توجه: هر سوال تستی ۳ نمره دارد و سوال ها نمره منفی نیز ندارند.\\
\input{MyAnswerSheet}
\input{MyCommonQues}
\ \newpage\ \newpage 

\end{document}
